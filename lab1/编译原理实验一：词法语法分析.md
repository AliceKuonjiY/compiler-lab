# 编译原理实验一：词法语法分析

## 词法分析

使用Flex进行词法分析代码的生成

编写词法单元的正则表达式

<img src="/home/yhu/.config/Typora/typora-user-images/image-20251014111418515.png" alt="image-20251014111418515" style="zoom: 33%;" />

编写检测到词法单元后进行的操作

<img src="/home/yhu/.config/Typora/typora-user-images/image-20250923192816481.png" alt="image-20250923192816481" style="zoom: 25%;" />

检测到未知词法单元后的错误处理

<img src="/home/yhu/.config/Typora/typora-user-images/image-20250923192919134.png" alt="image-20250923192919134" style="zoom:25%;" />

## 语法分析

定义终结符和非终结符，并指定类型和优先级

<img src="/home/yhu/.config/Typora/typora-user-images/image-20250923193100997.png" alt="image-20250923193100997" style="zoom: 25%;" />

定义语法规则，并构造语法树

<img src="/home/yhu/.config/Typora/typora-user-images/image-20250923193222295.png" alt="image-20250923193222295" style="zoom:25%;" />

对于数组下标、分号缺失、多余字符等语法错误进行检查和报错

<img src="/home/yhu/.config/Typora/typora-user-images/image-20250923193344639.png" alt="image-20250923193344639" style="zoom:25%;" />

遍历语法分析树，输出语法结构信息（详见代码）

## 有待改进

- 构造语法树部分的代码可以优化的更加简洁
- 有两个测试点始终无法通过，还未找出问题，可能还存在某些语法错误不能识别